<!DOCTYPE html>
<html>
<head>
    <title>API æµ‹è¯•</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        .test-item { margin: 20px 0; padding: 10px; border: 1px solid #ddd; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        pre { background: #f5f5f5; padding: 10px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸŒ¤ï¸ æ°”è±¡APIæµ‹è¯•</h1>
    
    <div class="test-item">
        <h3>æµ‹è¯• /weather/measured_radiation</h3>
        <button onclick="testMeasuredRadiation()">æµ‹è¯•</button>
        <div id="result-measured"></div>
    </div>

    <script>
        async function testMeasuredRadiation() {
            const resultDiv = document.getElementById('result-measured');
            resultDiv.innerHTML = 'æ­£åœ¨æµ‹è¯•...';
            
            try {
                const url = '/weather/measured_radiation?system_id=test_station&start_time=2026-02-05T00:00:00Z&end_time=2026-02-06T00:00:00Z';
                const response = await fetch(url);
                
                if (response.ok) {
                    const data = await response.json();
                    resultDiv.innerHTML = `
                        <p class="success">âœ… æˆåŠŸ (HTTP 200)</p>
                        <p>è¿”å› ${data.length} æ¡æ•°æ®</p>
                        <details>
                            <summary>æŸ¥çœ‹è¯¦ç»†æ•°æ®</summary>
                            <pre>${JSON.stringify(data.slice(0, 3), null, 2)}...</pre>
                        </details>
                    `;
                } else {
                    resultDiv.innerHTML = `
                        <p class="error">âŒ å¤±è´¥ (HTTP ${response.status})</p>
                        <p>${await response.text()}</p>
                    `;
                }
            } catch (error) {
                resultDiv.innerHTML = `<p class="error">âŒ é”™è¯¯: ${error.message}</p>`;
            }
        }
    </script>
</body>
</html>
